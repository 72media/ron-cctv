
<!DOCTYPE html>
<html>
<head>
    <title>‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏•‡πâ‡∏≠‡∏á CCTV ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Kanit', sans-serif;
        }
        #container {
            display: flex;
            height: 100vh;
            position: relative;
        }
        #map {
            flex: 1;
            height: 100%;
        }
        #sidebar {
            width: 300px;
            background: linear-gradient(to bottom, #ffffff, #e0f0ff);
border-right: 1px solid #ccc;
box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1);
            padding: 10px;
            overflow-y: auto;
            box-shadow: -2px 0 5px rgba(0,0,0,0.1);
            position: absolute;
            left: -270px;
right: auto;
            top: 0;
            bottom: 0;
            transition: right 0.3s ease;
            z-index: 1000;
        }
        #sidebar:hover {
            left: 0;
        }
        #sidebar-toggle {
            position: absolute;
            right: -30px;
            left: auto;
            border-radius: 0 5px 5px 0;
            box-shadow: 2px 0 5px rgba(0,0,0,0.1);
            top: 50%;
            transform: translateY(-50%);
            width: 30px;
            height: 60px;
            background: linear-gradient(to bottom, #ffffff, #e0f0ff);
border-right: 1px solid #ccc;
box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1);
            border-radius: 5px 0 0 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: -2px 0 5px rgba(0,0,0,0.1);
        }
        #sidebar-toggle::after {
            content: "‚ò∞";
            font-size: 20px;
        }
        .info {
            padding: 6px 8px;
            font: 14px/16px Arial, Helvetica, sans-serif;
            background: white;
            background: rgba(255,255,255,0.8);
            box-shadow: 0 0 15px rgba(0,0,0,0.2);
            border-radius: 5px;
        }
        .info h4 {
            margin: 0 0 5px;
            color: #777;
        }
        .legend {
            line-height: 18px;
            color: #555;
        }
        .legend i {
            width: 18px;
            height: 18px;
            float: left;
            margin-right: 8px;
            opacity: 0.7;
        }
        .tambon-group {
            margin-bottom: 15px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }
        .tambon-title {
    font-size: 15px;
    padding-left: 10px;
            font-weight: bold;
            color: #2c3e50;
            cursor: pointer;
            padding: 5px;
            background: #eaeaea;
            border-radius: 3px;
        }
        .tambon-title:hover {
            background: #ddd;
        }
        .camera-item {
    font-size: 14px;
    color: #333;
            padding: 5px 5px 5px 20px;
            cursor: pointer;
            border-left: 3px solid transparent;
        }
        .camera-item:hover {
            background: #e0e0e0;
            border-left: 3px solid #3498db;
        }
        .map-controls {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 1000;
            background: white;
            padding: 5px;
            border-radius: 5px;
            box-shadow: 0 0 5px rgba(0,0,0,0.2);
        }
        .map-type-btn {
            padding: 5px 10px;
            margin: 2px;
            cursor: pointer;
            background: #f8f8f8;
            border: 1px solid #ddd;
            border-radius: 3px;
        }
        .map-type-btn.active {
            background: #3498db;
            color: white;
            border-color: #2980b9;
        }
        .search-box {
            margin-bottom: 15px;
        }
        .search-box input {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
            border: 1px solid #ddd;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="map"></div>
        <div id="sidebar">
            <div id="sidebar-toggle"></div>
            <h3 style="margin-top: 0; color: #2c3e50;">üì∑ ‡∏Å‡∏•‡πâ‡∏≠‡∏á CCTV ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå</h3>
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ï‡∏≥‡∏ö‡∏•‡∏´‡∏£‡∏∑‡∏≠‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏•‡πâ‡∏≠‡∏á...">
            </div>
            <div id="tambonList"></div>
        </div>
    </div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    
    <script>
        // Initialize the map
        var map = L.map('map').setView([8.2, 99.87], 12);

        // Define map layers
        var osmLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        });

        var hybridLayer = L.tileLayer('https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}', {
            subdomains: ['mt0','mt1','mt2','mt3'],
            attribution: '&copy; Google'
        });

        // Add default layer
        hybridLayer.addTo(map);

        // Camera icon
        var cameraIcon = L.icon({
            iconUrl: 'https://i.ibb.co/mf8MtwZ/camera.png',
            iconSize: [32, 32],
            iconAnchor: [16, 32],
            popupAnchor: [0, -32]
        });

        // Complete location data from the PDF
        var locations = [
            // ‡∏ó‡∏¥‡∏ô‡∏ï‡∏Å
            {code: "K0101", name: "‡∏ù‡∏≤‡∏¢‡∏ä‡∏∞‡∏•‡∏≠‡∏ô‡πâ‡∏≥‡∏Ñ‡∏•‡∏≠‡∏á‡∏û‡∏∏‡∏î‡∏´‡∏á", lat: 8.235518, lng: 99.876593, tambon: "‡∏ó‡∏¥‡∏ô‡∏ï‡∏Å"},
            {code: "K0102", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏ñ‡∏ô‡∏ô‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á‡∏ò‡∏£‡∏£‡∏°", lat: 8.249495, lng: 99.883162, tambon: "‡∏ó‡∏¥‡∏ô‡∏ï‡∏Å"},
            {code: "K0103", name: "‡∏ù‡∏≤‡∏¢‡πÄ‡∏â‡∏•‡∏¥‡∏°‡∏û‡∏£‡∏∞‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥ ‡∏Ñ‡∏•‡∏≠‡∏á‡∏û‡∏∏‡∏î‡∏´‡∏á", lat: 8.237825, lng: 99.882457, tambon: "‡∏ó‡∏¥‡∏ô‡∏ï‡∏Å"},
            {code: "K0104", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏û‡∏∏‡∏î‡∏´‡∏á-‡∏™‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏¢", lat: 8.219478, lng: 99.876530, tambon: "‡∏ó‡∏¥‡∏ô‡∏ï‡∏Å"},
            {code: "K0105", name: "‡∏à‡∏∏‡∏î‡∏Å‡∏•‡∏±‡∏ö‡∏£‡∏ñ‡∏ñ‡∏ô‡∏ô‡πÄ‡∏û‡∏ä‡∏£‡πÄ‡∏Å‡∏©‡∏° (‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏Ø-‡∏£‡πà‡∏≠‡∏ô‡∏Ø)", lat: 8.256717, lng: 99.893698, tambon: "‡∏ó‡∏¥‡∏ô‡∏ï‡∏Å"},
            {code: "K0106", name: "‡∏™‡∏ß‡∏ô‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞‡πÄ‡∏ó‡∏®‡∏ö‡∏≤‡∏•‡∏ó‡∏¥‡∏ô‡∏ï‡∏Å (‡πÄ‡∏™‡∏≤‡∏ó‡∏µ‡πà 1)", lat: 8.226770, lng: 99.871560, tambon: "‡∏ó‡∏¥‡∏ô‡∏ï‡∏Å"},
            
            // ‡∏Ñ‡∏ß‡∏ô‡∏ã‡∏∏‡∏°
            {code: "K0201", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏ß‡∏±‡∏ß‡∏´‡∏•‡∏∏‡∏á (‡πÄ‡∏™‡∏≤‡∏ó‡∏µ‡πà 3)", lat: 8.144307, lng: 99.926195, tambon: "‡∏Ñ‡∏ß‡∏ô‡∏ã‡∏∏‡∏°"},
            {code: "K0202", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏õ‡∏±‡∏á‡πÉ‡∏ï‡πâ (‡πÄ‡∏™‡∏≤‡∏ó‡∏µ‡πà 1)", lat: 8.141632, lng: 99.908993, tambon: "‡∏Ñ‡∏ß‡∏ô‡∏ã‡∏∏‡∏°"},
            {code: "K0203", name: "‡∏™‡∏µ‡πà‡πÅ‡∏¢‡∏Å ‡∏£‡∏û.‡∏™‡∏ï.‡∏ó‡∏∏‡πà‡∏á‡∏´‡∏•‡πà‡∏≠ (‡πÄ‡∏™‡∏≤‡∏ó‡∏µ‡πà 3)", lat: 8.224956, lng: 99.913366, tambon: "‡∏Ñ‡∏ß‡∏ô‡∏ã‡∏∏‡∏°"},
            {code: "K0204", name: "‡∏™‡∏µ‡πà‡πÅ‡∏¢‡∏Å‡∏ó‡∏∏‡πà‡∏á‡∏Ñ‡∏≤-‡πÄ‡∏ô‡∏¥‡∏ô‡∏ö‡πâ‡∏≤‡∏ô‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå (‡πÄ‡∏™‡∏≤‡∏ó‡∏µ‡πà 1)", lat: 8.221292, lng: 99.923484, tambon: "‡∏Ñ‡∏ß‡∏ô‡∏ã‡∏∏‡∏°"},
            {code: "K0205", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡πÄ‡∏Å‡∏¢‡πÄ‡∏ä‡∏ô (‡πÄ‡∏™‡∏≤‡∏ó‡∏µ‡πà 2)", lat: 8.192002, lng: 99.901305, tambon: "‡∏Ñ‡∏ß‡∏ô‡∏ã‡∏∏‡∏°"},
            {code: "K0206", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏ã‡∏≠‡∏¢‡∏™‡∏ô‡∏¥‡∏ó 1 (‡πÄ‡∏™‡∏≤‡∏ó‡∏µ‡πà 2)", lat: 8.159967, lng: 99.926649, tambon: "‡∏Ñ‡∏ß‡∏ô‡∏ã‡∏∏‡∏°"},
            {code: "K0207", name: "‡∏™‡∏µ‡πà‡πÅ‡∏¢‡∏Å‡∏´‡∏≠‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡∏´‡∏°‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô (‡πÄ‡∏™‡∏≤‡∏ó‡∏µ‡πà 2)", lat: 8.150687, lng: 99.925649, tambon: "‡∏Ñ‡∏ß‡∏ô‡∏ã‡∏∏‡∏°"},
            
            // ‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå (‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÅ‡∏£‡∏Å)
            {code: "K0301", name: "‡∏à‡∏∏‡∏î‡∏Å‡∏•‡∏±‡∏ö‡∏£‡∏ñ‡πÇ‡∏Ñ‡∏Å‡∏¢‡∏≤‡∏á", lat: 8.145022, lng: 99.809446, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0302", name: "‡∏ã‡∏≠‡∏¢‡∏™‡∏ß‡∏ô‡πÄ‡∏•‡∏≤", lat: 8.144085, lng: 99.806614, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0303", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏ß‡∏±‡∏ï‡∏™‡∏∏‡∏ß‡∏£‡∏£‡∏ì‡∏£‡∏±‡∏á‡∏™‡∏µ", lat: 8.142307, lng: 99.808048, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0304", name: "‡∏¢‡∏π‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏•‡∏≤‡∏î‡πÇ‡∏Ñ‡∏Å‡∏¢‡∏≤‡∏á (‡πÄ‡∏™‡∏≤‡∏ó‡∏µ‡πà 2)", lat: 8.145566, lng: 99.809821, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0305", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏´‡∏ô‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏î (‡πÄ‡∏•‡∏µ‡∏¢‡∏ö‡∏£‡∏≤‡∏á‡∏£‡∏ñ‡πÑ‡∏ü) (‡πÄ‡∏™‡∏≤‡∏ó‡∏µ‡πà 2)", lat: 8.151368, lng: 99.828579, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0306", name: "‡∏™‡∏µ‡πà‡πÅ‡∏¢‡∏Å‡∏ó‡∏≤‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Ñ‡∏£‡∏π‡∏ì‡∏®‡∏∂‡∏Å‡∏©‡∏≤", lat: 8.152139, lng: 99.831040, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0307", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡πÉ‡∏ï‡πâ‡∏™‡∏∞‡∏û‡∏≤‡∏ô‡πÄ‡∏Ç‡∏≤‡∏ô‡πâ‡∏≠‡∏¢ (‡πÄ‡∏™‡∏≤‡∏ó‡∏µ‡πà 2)", lat: 8.154546, lng: 99.838019, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0308", name: "‡∏à‡∏∏‡∏î‡∏Å‡∏•‡∏±‡∏ö‡∏£‡∏ñ‡∏´‡∏ô‡πâ‡∏≤ ‡∏£.‡∏£.‡∏ß‡∏±‡∏î‡πÄ‡∏ó‡∏û‡∏û‡∏ô‡∏°‡πÄ‡∏ä‡πá‡∏≠‡∏Ñ (‡πÄ‡∏™‡∏≤‡∏ó‡∏µ‡πà 1)", lat: 8.162499, lng: 99.849945, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0309", name: "‡∏ã‡∏≠‡∏¢‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô‡∏ô‡∏≤‡∏á‡∏ô‡∏±‡∏ô‡∏ó‡∏≤ ‡πÄ‡∏Å‡∏¥‡∏î‡∏£‡∏±‡∏ï‡∏ô‡∏û‡∏á‡∏Ñ‡πå", lat: 8.154595, lng: 99.849253, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0310", name: "‡∏ó‡∏≤‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏ï‡∏•‡∏≤‡∏î‡πÉ‡∏´‡∏°‡πà (‡πÄ‡∏™‡∏≤‡∏ó‡∏µ‡πà 1)", lat: 8.151617, lng: 99.832191, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0311", name: "‡∏ó‡∏≤‡∏á‡∏≠‡∏≠‡∏Å‡∏î‡πâ‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ï‡∏•‡∏≤‡∏î‡πÉ‡∏´‡∏°‡πà (‡πÄ‡∏™‡∏≤‡∏ó‡∏µ‡πà 2)", lat: 8.149118, lng: 99.832714, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0312", name: "‡∏´‡∏ô‡πâ‡∏≤ ‡∏£.‡∏£.‡∏û‡∏¥‡∏®‡∏≤‡∏•‡∏ô‡∏§‡∏°‡∏¥‡∏ï‡∏£ (‡πÄ‡∏™‡∏≤‡∏ó‡∏µ‡πà 1)", lat: 8.185006, lng: 99.857249, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0313", name: "‡∏´‡∏ô‡πâ‡∏≤ ‡∏£.‡∏£.‡∏û‡∏¥‡∏®‡∏≤‡∏•‡∏ô‡∏§‡∏°‡∏¥‡∏ï‡∏£ (‡πÄ‡∏™‡∏≤‡∏ó‡∏µ‡πà 2)", lat: 8.184578, lng: 99.857290, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0314", name: "‡∏´‡∏•‡∏±‡∏á‡∏ß‡∏±‡∏î‡∏û‡∏¥‡∏®‡∏≤‡∏• (‡πÄ‡∏™‡∏≤‡∏ó‡∏µ‡πà 2)", lat: 8.182250, lng: 99.859172, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0316", name: "‡∏•‡∏µ‡πà‡πÅ‡∏¢‡∏Å‡∏ö‡πâ‡∏≤‡∏ô‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏û‡∏£", lat: 8.177995, lng: 99.857298, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0317", name: "‡∏ã‡∏≠‡∏¢‡∏û‡∏π‡∏ô‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå", lat: 8.175264, lng: 99.85959, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0318", name: "‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå", lat: 8.167553, lng: 99.851617, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0319", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏õ‡∏£‡∏µ‡∏ä‡∏≤‡∏ó‡∏≠‡∏á (‡πÄ‡∏™‡∏≤‡∏ó‡∏µ‡πà 2)", lat: 8.172372, lng: 99.850871, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0320", name: "‡∏™‡∏µ‡πà‡πÅ‡∏¢‡∏Å‡πÄ‡∏°‡∏©‡∏≤ (‡πÄ‡∏™‡∏≤‡∏ó‡∏µ‡πà 2)", lat: 8.176376, lng: 99.846704, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0321", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏¥‡∏ô-‡∏ô‡∏≤‡∏¢‡πÄ‡∏û‡∏µ‡πâ‡∏¢‡∏ô", lat: 8.178505, lng: 99.850945, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0322", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏õ‡πâ‡∏≤‡πÄ‡∏à‡∏¥‡∏î", lat: 8.185275, lng: 99.846922, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            
            // ‡∏´‡∏¥‡∏ô‡∏î‡∏Å
            {code: "K0401", name: "‡πÅ‡∏¢‡∏Å‡∏õ‡∏•‡∏≤‡∏¢‡∏£‡∏≤‡∏á-‡∏â‡∏•‡∏∏‡∏á‡∏ó‡∏≠‡∏á", lat: 8.265005, lng: 99.861460, tambon: "‡∏´‡∏¥‡∏ô‡∏î‡∏Å"},
            {code: "K0402", name: "‡∏´‡∏ô‡πâ‡∏≤‡∏ß‡∏±‡∏î‡∏•‡∏∏‡∏á‡∏ó‡∏≠‡∏á", lat: 8.305564, lng: 99.859849, tambon: "‡∏´‡∏¥‡∏ô‡∏î‡∏Å"},
            {code: "K0403", name: "‡πÅ‡∏¢‡∏Å‡∏ó‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏Ç‡∏≤‡∏ß‡∏±‡∏á", lat: 8.280249, lng: 99.841531, tambon: "‡∏´‡∏¥‡∏ô‡∏î‡∏Å"},
            {code: "K0404", name: "‡πÅ‡∏¢‡∏Å‡∏ó‡∏≤‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏ß‡∏±‡∏î‡∏ß‡∏¥‡∏†‡∏≤‡∏ß‡∏î‡∏µ", lat: 8.277938, lng: 99.831255, tambon: "‡∏´‡∏¥‡∏ô‡∏î‡∏Å"},
            {code: "K0405", name: "‡∏™‡∏µ‡πà‡πÅ‡∏¢‡∏Å‡∏†‡∏π‡∏ò‡∏≤‡∏£", lat: 8.265471, lng: 99.835276, tambon: "‡∏´‡∏¥‡∏ô‡∏î‡∏Å"},
            {code: "K0406", name: "‡∏™‡∏µ‡πà‡πÅ‡∏¢‡∏Å‡∏õ‡∏±‡∏î‡πÇ‡∏ß‡∏Å", lat: 8.229075, lng: 99.850350, tambon: "‡∏´‡∏¥‡∏ô‡∏î‡∏Å"},
            {code: "K0407", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡πÑ‡∏™‡∏´‡∏ç‡πâ‡∏≤‡∏´‡∏ß‡∏≤‡∏¢", lat: 8.214968, lng: 99.893246, tambon: "‡∏´‡∏¥‡∏ô‡∏î‡∏Å"},
            {code: "K0408", name: "‡πÅ‡∏¢‡∏Å‡∏ö‡πâ‡∏≤‡∏ô‡∏ô‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô ‡∏ô‡πâ‡∏≥‡∏Ç‡∏≤‡∏ß", lat: 8.225234, lng: 99.886056, tambon: "‡∏´‡∏¥‡∏ô‡∏î‡∏Å"},
            {code: "K0409", name: "‡∏™‡∏µ‡πà‡πÅ‡∏¢‡∏Å‡πÑ‡∏ó‡∏£‡∏ó‡∏≠‡∏á", lat: 8.236117, lng: 99.897475, tambon: "‡∏´‡∏¥‡∏ô‡∏î‡∏Å"},
            {code: "K0410", name: "‡πÅ‡∏¢‡∏Å‡∏ó‡∏≤‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏±‡∏™‡∏¢‡∏¥‡∏î (‡∏®‡∏≤‡∏•‡∏≤‡πÅ‡∏à‡∏Å)", lat: 8.258956, lng: 99.874218, tambon: "‡∏´‡∏¥‡∏ô‡∏î‡∏Å"},
            
            // ‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå (‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏™‡∏≠‡∏á)
            {code: "K0501", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏´‡∏≠‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°", lat: 8.182321, lng: 99.871301, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0502", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏´‡∏±‡∏ß‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏á", lat: 8.188787, lng: 99.836401, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0503", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡πâ‡∏≠‡∏°", lat: 8.217995, lng: 99.836098, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0504", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏ö‡πâ‡∏≤‡∏ô‡∏´‡∏±‡∏ß‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏ß", lat: 8.158229, lng: 99.876419, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0505", name: "‡∏´‡∏≠‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡∏´‡∏°‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô", lat: 8.154461, lng: 99.861794, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0506", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏ñ‡∏ô‡∏ô‡∏ü‡∏≠‡∏ó‡πà‡∏≤‡∏ô‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢-‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏ß‡∏±‡∏á‡πÑ‡∏ó‡∏£", lat: 8.151775, lng: 99.857786, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0507", name: "‡∏ã‡∏≠‡∏¢‡∏´‡∏¥‡∏ô‡∏•‡∏±‡∏ö", lat: 8.161719, lng: 99.832849, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0508", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏õ‡∏≤‡∏Å‡∏ó‡∏≤‡∏á‡∏£‡∏ñ‡∏à‡∏¥‡πä‡∏ö", lat: 8.139444, lng: 99.788880, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0509", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏õ‡πâ‡∏≠‡∏°", lat: 8.202440, lng: 99.867591, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0510", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏ã‡∏≠‡∏¢‡∏•‡∏∏‡∏á‡∏ñ‡∏¥‡πà‡∏ô", lat: 8.152574, lng: 99.806604, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0511", name: "‡∏™‡∏µ‡πà‡πÅ‡∏¢‡∏Å‡∏´‡πâ‡∏ß‡∏¢‡πÑ‡∏°‡πâ‡πÅ‡∏Å‡πà‡∏ô", lat: 8.25159, lng: 99.837707, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0512", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏õ‡∏≤‡∏Å‡∏ó‡∏≤‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡∏ô‡∏à‡∏≥‡πÄ‡∏Ç‡∏≤‡∏´‡∏°‡∏≤‡∏Å", lat: 8.202251, lng: 99.862984, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0514", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏ß‡∏±‡∏î‡πÄ‡∏ô‡∏Å‡∏Ç‡∏±‡∏°‡∏°‡∏≤‡∏£‡∏≤‡∏°", lat: 8.144233, lng: 99.832135, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0515", name: "‡∏™‡∏µ‡πà‡πÅ‡∏¢‡∏Å‡πÑ‡∏™‡∏¢‡∏≤‡∏ß-‡πÉ‡∏ô‡∏õ‡πâ‡∏≠‡∏á", lat: 8.187743, lng: 99.872906, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            {code: "K0516", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏ñ‡∏ô‡∏ô‡πÄ‡∏•‡∏µ‡∏¢‡∏ö‡∏Ñ‡∏•‡∏≠‡∏á", lat: 8.196356, lng: 99.872968, tambon: "‡∏£‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏ö‡∏π‡∏•‡∏¢‡πå"},
            
            // ‡∏Ñ‡∏ß‡∏ô‡∏û‡∏±‡∏á
            {code: "K0601", name: "‡πÅ‡∏¢‡∏Å‡πÄ‡∏Ç‡∏≤‡∏ä‡∏∏‡∏°‡∏ó‡∏≠‡∏á-‡∏ö‡πâ‡∏≤‡∏ô‡∏Å‡∏∏‡∏°‡πÅ‡∏õ-‡∏õ‡∏•‡∏ß‡∏Å‡∏Ç‡∏≤‡∏ß", lat: 8.135429, lng: 99.951463, tambon: "‡∏Ñ‡∏ß‡∏ô‡∏û‡∏±‡∏á"},
            {code: "K0602", name: "‡∏®‡∏≤‡∏•‡∏≤‡πÑ‡∏°‡πâ‡πÑ‡∏ú‡πà", lat: 8.130476, lng: 99.960289, tambon: "‡∏Ñ‡∏ß‡∏ô‡∏û‡∏±‡∏á"},
            {code: "K0603", name: "‡∏ö‡πâ‡∏≤‡∏ô‡πÇ‡∏Ñ‡∏Å‡∏°‡∏∞‡∏Å‡∏£‡∏π‡∏î", lat: 8.149633, lng: 99.963256, tambon: "‡∏Ñ‡∏ß‡∏ô‡∏û‡∏±‡∏á"},
            {code: "K0604", name: "‡∏ö‡πâ‡∏≤‡∏ô‡∏õ‡∏•‡∏≤‡∏¢‡∏™‡∏£‡∏∞", lat: 8.189245, lng: 99.942484, tambon: "‡∏Ñ‡∏ß‡∏ô‡∏û‡∏±‡∏á"},
            {code: "K0605", name: "‡∏ö‡πâ‡∏≤‡∏ô‡∏Å‡∏•‡∏≠‡∏á", lat: 8.218085, lng: 99.945939, tambon: "‡∏Ñ‡∏ß‡∏ô‡∏û‡∏±‡∏á"},
            {code: "K0606", name: "‡∏ö‡πâ‡∏≤‡∏ô‡∏´‡∏±‡∏ß‡∏Ç‡πà‡∏≠‡∏¢", lat: 8.154120, lng: 99.949714, tambon: "‡∏Ñ‡∏ß‡∏ô‡∏û‡∏±‡∏á"},
            {code: "K0607", name: "‡∏ö‡πâ‡∏≤‡∏ô‡∏ö‡πà‡∏≠‡πÇ‡∏û‡∏ò‡∏¥‡πå", lat: 8.146052, lng: 99.934821, tambon: "‡∏Ñ‡∏ß‡∏ô‡∏û‡∏±‡∏á"},
            {code: "K0608", name: "‡∏ö‡πâ‡∏≤‡∏ô‡∏î‡πà‡∏≤‡∏ô", lat: 8.192274, lng: 99.952024, tambon: "‡∏Ñ‡∏ß‡∏ô‡∏û‡∏±‡∏á"},
            
            // ‡πÄ‡∏™‡∏≤‡∏ò‡∏á
            {code: "K0701", name: "‡∏™‡∏¥‡πà‡πÅ‡∏¢‡∏Å‡∏Å‡∏∏‡πÇ‡∏ö‡∏£‡πå", lat: 8.271293, lng: 99.891819, tambon: "‡πÄ‡∏™‡∏≤‡∏ò‡∏á"},
            {code: "K0702", name: "‡πÅ‡∏¢‡∏Å‡∏ã‡∏≠‡∏¢‡∏®‡∏≤‡∏•‡∏≤‡πÅ‡∏Ç‡∏Å", lat: 8.272620, lng: 99.882320, tambon: "‡πÄ‡∏™‡∏≤‡∏ò‡∏á"},
            {code: "K0703", name: "‡πÅ‡∏¢‡∏Å‡∏ã‡∏≠‡∏¢‡∏ö‡πâ‡∏≤‡∏ô‡∏ó‡πà‡∏≤‡∏Ç‡πâ‡∏≤‡∏°", lat: 8.283820, lng: 99.875290, tambon: "‡πÄ‡∏™‡∏≤‡∏ò‡∏á"},
            {code: "K0704", name: "‡πÅ‡∏¢‡∏Å‡∏ó‡∏≤‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡πâ‡∏≤‡∏ô‡∏õ‡πà‡∏≤‡πÅ‡∏ä‡∏á", lat: 8.270270, lng: 99.901927, tambon: "‡πÄ‡∏™‡∏≤‡∏ò‡∏á"},
            {code: "K0705", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏ö‡πâ‡∏≤‡∏ô‡∏õ‡πà‡∏≤‡πÅ‡∏ä‡∏á", lat: 8.241687, lng: 99.912054, tambon: "‡πÄ‡∏™‡∏≤‡∏ò‡∏á"},
            {code: "K0706", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Ç‡∏∑‡πà‡∏≠‡∏ô", lat: 8.275541, lng: 99.914143, tambon: "‡πÄ‡∏™‡∏≤‡∏ò‡∏á"},
            
            // ‡∏Ñ‡∏ß‡∏ô‡πÄ‡∏Å‡∏¢
            {code: "K0801", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏≠‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≥‡∏Ñ‡∏ß‡∏ô‡πÄ‡∏Å‡∏¢", lat: 8.127968, lng: 99.890758, tambon: "‡∏Ñ‡∏ß‡∏ô‡πÄ‡∏Å‡∏¢"},
            {code: "K0802", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏ö‡πâ‡∏≤‡∏ô‡∏™‡∏ß‡∏ô‡∏ó‡∏∏‡πÄ‡∏£‡∏µ‡∏¢‡∏ô", lat: 8.152902, lng: 99.896867, tambon: "‡∏Ñ‡∏ß‡∏ô‡πÄ‡∏Å‡∏¢"},
            {code: "K0803", name: "‡∏™‡∏¥‡πà‡πÅ‡∏¢‡∏Å‡∏ö‡πâ‡∏≤‡∏ô‡∏™‡∏ß‡∏ô‡∏ó‡∏∏‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏ö‡πâ‡∏≤‡∏ô‡∏õ‡∏±‡∏á,‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏û‡∏¥‡∏á", lat: 8.153436, lng: 99.901953, tambon: "‡∏Ñ‡∏ß‡∏ô‡πÄ‡∏Å‡∏¢"},
            {code: "K0804", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏ö‡πâ‡∏≤‡∏ô‡∏´‡πâ‡∏ß‡∏¢‡∏à‡∏¥‡∏Å", lat: 8.115203, lng: 99.893228, tambon: "‡∏Ñ‡∏ß‡∏ô‡πÄ‡∏Å‡∏¢"},
            {code: "K0805", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏ö‡πâ‡∏≤‡∏ô‡πÑ‡∏™‡πÄ‡∏•‡∏µ‡∏¢‡∏ö", lat: 8.124346, lng: 99.911435, tambon: "‡∏Ñ‡∏ß‡∏ô‡πÄ‡∏Å‡∏¢"},
            {code: "K0806", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏ö‡πâ‡∏≤‡∏ô‡∏ó‡∏∏‡πà‡∏á‡∏´‡∏ô‡∏≠‡∏á‡∏à‡∏≠‡∏Å", lat: 8.146968, lng: 99.902385, tambon: "‡∏Ñ‡∏ß‡∏ô‡πÄ‡∏Å‡∏¢"},
            {code: "K0807", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏´‡∏•‡∏±‡∏á‡∏ß‡∏±‡∏î‡πÄ‡∏ó‡∏û‡∏°‡∏á‡∏Ñ‡∏•", lat: 8.154772, lng: 99.880889, tambon: "‡∏Ñ‡∏ß‡∏ô‡πÄ‡∏Å‡∏¢"},
            {code: "K0808", name: "‡∏™‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏ö‡πâ‡∏≤‡∏ô‡∏´‡πâ‡∏ß‡∏¢‡∏Ñ‡∏±‡∏ô‡πÑ‡∏ñ", lat: 8.131969, lng: 99.911185, tambon: "‡∏Ñ‡∏ß‡∏ô‡πÄ‡∏Å‡∏¢"}
        ];

        // Group locations by tambon
        var tambons = {};
        locations.forEach(function(location) {
            if (!tambons[location.tambon]) {
                tambons[location.tambon] = [];
            }
            tambons[location.tambon].push(location);
        });

        // Create markers and store references
        var markers = {};
        locations.forEach(function(location) {
            var marker = L.marker([location.lat, location.lng], {icon: cameraIcon})
                .addTo(map)
                .bindPopup(`<b>‡∏£‡∏´‡∏±‡∏™:</b> ${location.code}<br><b>‡∏ä‡∏∑‡πà‡∏≠:</b> ${location.name}<br><b>‡∏ï‡∏≥‡∏ö‡∏•:</b> ${location.tambon}`);
            
            markers[location.code] = marker;
        });

        // Create sidebar content
        var tambonList = document.getElementById('tambonList');
        
        for (var tambon in tambons) {
            var tambonGroup = document.createElement('div');
            tambonGroup.className = 'tambon-group';
            
            var tambonTitle = document.createElement('div');
            tambonTitle.className = 'tambon-title';
            tambonTitle.textContent = '‡∏ï‡∏≥‡∏ö‡∏•' + tambon + ' (' + tambons[tambon].length + ')';
            
            var cameraList = document.createElement('div');
            cameraList.className = 'camera-list';
            
            tambons[tambon].forEach(function(location) {
                var cameraItem = document.createElement('div');
                cameraItem.className = 'camera-item';
                cameraItem.textContent = location.code + ' - ' + location.name;
                cameraItem.onclick = function() {
                    map.setView([location.lat, location.lng], 16);
                    markers[location.code].openPopup();
                    resetSidebarTimer();
                };
                cameraItem.onmouseover = resetSidebarTimer;
                cameraList.appendChild(cameraItem);
            });
            
            tambonTitle.onclick = function() {
                if (cameraList.style.display === 'none') {
                    cameraList.style.display = 'block';
                } else {
                    cameraList.style.display = 'none';
                }
                resetSidebarTimer();
            };
            
            tambonTitle.onmouseover = resetSidebarTimer;
            
            tambonGroup.appendChild(tambonTitle);
            tambonGroup.appendChild(cameraList);
            tambonList.appendChild(tambonGroup);
        }

        // Add map type controls
        var mapControls = document.createElement('div');
        mapControls.className = 'map-controls';
        
        var osmBtn = document.createElement('button');
        osmBtn.className = 'map-type-btn active';
        osmBtn.textContent = '‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏ô‡∏ô';
        osmBtn.onclick = function() {
            
            map.removeLayer(hybridLayer);
            map.addLayer(osmLayer);
            setActiveBtn(osmBtn);
            resetSidebarTimer();
        };
        
        
        mapControls.appendChild(hybridBtn);
        
        document.body.appendChild(mapControls);
        
        function setActiveBtn(btn) {
            var btns = document.querySelectorAll('.map-type-btn');
            btns.forEach(function(button) {
                button.classList.remove('active');
            });
            btn.classList.add('active');
        }

        // Add search functionality
        var searchInput = document.getElementById('searchInput');
        searchInput.addEventListener('input', function() {
            var searchTerm = this.value.toLowerCase();
            var tambonGroups = document.querySelectorAll('.tambon-group');
            
            tambonGroups.forEach(function(group) {
                var tambonTitle = group.querySelector('.tambon-title').textContent.toLowerCase();
                var cameraItems = group.querySelectorAll('.camera-item');
                var hasMatch = false;
                
                cameraItems.forEach(function(item) {
                    var itemText = item.textContent.toLowerCase();
                    if (itemText.includes(searchTerm) || tambonTitle.includes(searchTerm)) {
                        item.style.display = 'block';
                        hasMatch = true;
                    } else {
                        item.style.display = 'none';
                    }
                });
                
                if (hasMatch || tambonTitle.includes(searchTerm)) {
                    group.style.display = 'block';
                    group.querySelector('.camera-list').style.display = 'block';
                } else {
                    group.style.display = 'none';
                }
            });
            resetSidebarTimer();
        });

        // Sidebar hover and auto-hide functionality
        var sidebar = document.getElementById('sidebar');
        var sidebarTimeout;
        
        function showSidebar() {
            sidebar.style.right = '0';
            resetSidebarTimer();
        }
        
        function hideSidebar() {
            sidebar.style.right = '-270px';
        }
        
        function resetSidebarTimer() {
            clearTimeout(sidebarTimeout);
            sidebarTimeout = setTimeout(hideSidebar, 10000); // 10 seconds
        }
        
        sidebar.addEventListener('mouseenter', function() {
            showSidebar();
            clearTimeout(sidebarTimeout);
        });
        
        sidebar.addEventListener('mouseleave', function() {
            resetSidebarTimer();
        });
        
        document.getElementById('sidebar-toggle').addEventListener('click', function() {
            if (sidebar.style.right === '0px') {
                hideSidebar();
            } else {
                showSidebar();
            }
        });
        
        // Hide sidebar initially after 3 seconds
        setTimeout(hideSidebar, 3000);
        
        // Reset timer on map interaction
        map.on('click', resetSidebarTimer);
        map.on('move', resetSidebarTimer);
        map.on('zoom', resetSidebarTimer);
    </script>
</body>
</html>
